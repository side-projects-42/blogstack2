<!DOCTYPE html><html><head><style data-href="/styles.77eafe3598cd98aa1ff6.css">html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}hr{box-sizing:content-box;height:0;overflow:visible}a{background-color:transparent}a:focus{outline:thin dotted}a:active,a:hover{outline:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:700}.font-fira-sans b,.font-fira-sans strong{font-weight:600}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none;vertical-align:middle}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}html{font-family:Lato,Helvetica,Arial,sans-serif;font-size:100%}body{background:#f8f8fa;color:#424b5f;line-height:1.625;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}a{color:#00c6ff;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:.125em;transition:color .3s ease}a:hover{color:#424b5f}h1,h2,h3,h4,h5,h6{color:#283040;font-weight:700;line-height:1.2;margin:1.5em 0 .5em;text-rendering:optimizeLegibility}h1:first-child,h2:first-child,h3:first-child,h4:first-child,h5:first-child,h6:first-child{margin-top:0}h1{font-size:2em}h2{font-size:1.75em}h3{font-size:1.5em}h4{font-size:1.25em}h5{font-size:1.125em}h6{font-size:1em}p{margin:0 0 1em}ins,mark{background:#fff7e6;color:#283040;padding:.15em;text-decoration:none}pre{background:#283040;border-radius:3px;color:#f8f8fa;font-size:.875em;line-height:1.5;margin:2.14286em 0;overflow:auto;padding:1.5em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal}pre:first-child{margin-top:0}:not(pre)>code{background:#ecedf2;border-radius:3px;color:#424b5f;font-size:.875rem;padding:.15em;white-space:normal}blockquote{border-left:5px solid #00c6ff;font-size:1.25em;line-height:1.4;margin:1.25em 0;padding:0 0 0 1em}blockquote:first-child{margin-top:0}blockquote p{margin-bottom:.5em}blockquote cite,blockquote small{color:#67758d;display:block;font-size:.75em;font-style:normal;font-weight:400;line-height:1.5;margin-top:.5em}dl{margin:0}dt{font-weight:700}dd,ol,ul{margin:0 0 1em}ul{list-style:disc;padding:0 0 0 1.125em}ol{list-style:decimal;padding:0 0 0 1.5em}li>ol,li>ul{margin-bottom:0}hr{background-color:#dde0e7;border:0;height:1px;margin:1.875em 0}hr:first-child{margin-top:0}embed,iframe,img,object,video{max-width:100%}img{height:auto}@media only screen and (min-width:641px){blockquote{font-size:1.5em;line-height:1.3}h1{font-size:2.5em}h2{font-size:2.125em}h3{font-size:1.875em}h4{font-size:1.5em}h5{font-size:1.25em}h6{font-size:1.125em}}table{border-collapse:collapse;border-spacing:0;line-height:1.5;margin:0;max-width:100%;width:100%}caption,table{text-align:left}caption{color:#67758d;font-size:.875em;font-style:normal;margin-bottom:1em}td,th{border-bottom:1px solid #dde0e7;padding:.5em 5px}th{color:#283040;font-weight:700}:not(.responsive-table)>table{display:block;margin:1.875em 0;overflow-x:auto;-webkit-overflow-scrolling:touch}:not(.responsive-table)>table:first-child{margin-top:0}:not(.responsive-table)>table tbody,:not(.responsive-table)>table thead,:not(.responsive-table)>table tr{width:100%}:not(.responsive-table)>table td{min-width:10em}.responsive-table{display:block;margin:1.875em 0;overflow-x:auto;width:100%}.responsive-table:first-child{margin-top:0}label{color:#283040;font-weight:700;line-height:1.5;margin-bottom:.25em}input[type=checkbox]+label,input[type=radio]+label{font-weight:400;cursor:pointer;padding-left:.25em;padding-right:1em}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{background:#fff;border:1px solid #dde0e7;border-radius:3px;box-shadow:none;box-sizing:border-box;color:#283040;display:block;font-size:1em;font-weight:400;line-height:1.5;max-width:100%;padding:.5em;width:100%}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{outline:0}:-ms-input-placeholder{color:#9aa4b9;opacity:1}::placeholder{color:#9aa4b9;opacity:1}.form-row{margin-bottom:1em}.form-submit{margin-top:1.66667em}.button{align-items:center;background:#00c6ff;border:0;border-radius:1.75em;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-flex;font-size:.875em;font-weight:700;justify-content:center;letter-spacing:.035em;line-height:1.2;opacity:1;padding:.9em 2.14285em;text-decoration:none;transition:.3s ease;vertical-align:middle}.button:active,.button:focus,.button:hover{color:#fff;opacity:.8;outline:0}.button-secondary{background:0!important;box-shadow:inset 0 0 0 2px currentColor;color:#00c6ff}.button-secondary:active,.button-secondary:focus,.button-secondary:hover{box-shadow:inset 0 0 0 3px currentColor;color:#00c6ff;opacity:1}.button-icon{background:0!important;border:0;color:inherit;font-size:1em;font-weight:400;letter-spacing:normal;padding:.25em}.button-icon:active,.button-icon:focus,.button-icon:hover{color:#00c6ff;opacity:1}#menu-close,#menu-open,.docs-nav .docs-nav-toggle,.docs-nav .docs-submenu-toggle,.submenu-toggle{background:0;border:0;border-radius:0;box-shadow:none;color:inherit;cursor:pointer;display:block;font-size:inherit;height:30px;padding:0;position:relative;width:30px}#menu-close:active,#menu-close:focus,#menu-close:hover,#menu-open:active,#menu-open:focus,#menu-open:hover,.docs-nav .docs-nav-toggle:active,.docs-nav .docs-nav-toggle:focus,.docs-nav .docs-nav-toggle:hover,.docs-nav .docs-submenu-toggle:active,.docs-nav .docs-submenu-toggle:focus,.docs-nav .docs-submenu-toggle:hover,.submenu-toggle:active,.submenu-toggle:focus,.submenu-toggle:hover{outline:0}.icon{color:inherit;fill:currentColor;flex-shrink:0;height:1em;line-height:1;width:1em}.icon-close,.icon-menu{background:currentColor;border-radius:1px;color:inherit;height:2px;left:50%;margin-top:-1px;margin-left:-12px;position:absolute;top:50%;width:24px}.icon-close:after,.icon-close:before,.icon-menu:after,.icon-menu:before{background:currentColor;border-radius:1px;content:"";height:100%;left:0;position:absolute;width:100%}.icon-menu:before{top:-6px}.icon-menu:after{bottom:-6px}.icon-close{background:0;margin-left:-14px;width:28px}.icon-close:before{top:0;transform:rotate(45deg)}.icon-close:after{top:0;transform:rotate(-45deg)}.icon-angle-right{background:0;border-color:currentcolor;border-style:solid;border-width:1px 1px 0 0;box-sizing:border-box;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px;transform:rotate(45deg)}.docs-nav-toggle .icon-angle-right{height:12px;left:auto;margin-left:0;margin-right:9px;margin-top:-6px;right:0;width:12px}.docs-section-item .icon-angle-right{left:auto;margin-left:0;margin-right:15px;right:0}.screen-reader-text{clip:rect(1px,1px,1px,1px);-webkit-clip-path:polygon(0 0,0 0,0 0,0 0);clip-path:polygon(0 0,0 0,0 0,0 0);height:1px;overflow:hidden;position:absolute!important;width:1px;word-wrap:normal!important}.line-left{position:relative}.line-left:after{background:#00c6ff;display:block;content:"";height:100%;left:-1px;position:absolute;top:0;width:5px}.js-reframe{margin:1.875em 0}.js-reframe:first-child{margin-top:0}.important,.note{border-radius:5px;color:#283040;margin:1.875em 0;padding:1em 1.125em}.important:first-child,.note:first-child{margin-top:0}.note{background:#fff7e6;border-left:5px solid #fcb41d}.important{background:#ffe9e6;border-left:5px solid #fc381d}.has-gradient{background:#00c6ff;background:linear-gradient(90deg,#0072ff,#00c6ff);color:#fff;position:relative}.has-gradient a:not(.button),.has-gradient h1,.has-gradient h2,.has-gradient h3,.has-gradient h4,.has-gradient h5,.has-gradient h6{color:inherit!important}.has-gradient a:not(.button):hover{opacity:.8}.has-gradient .button:not(.button-secondary){background-color:#fff;color:#00c6ff}.has-gradient .button:not(.button-secondary):active,.has-gradient .button:not(.button-secondary):focus,.has-gradient .button:not(.button-secondary):hover{opacity:.85}.has-gradient .button-secondary{color:#fff!important}.has-gradient .inner-sm{position:relative}.bg-img{animation:fadeIn20 .75s ease-in-out;background-position:50%;background-size:cover;bottom:0;left:0;opacity:.2;position:absolute;right:0;top:0}.grid{display:flex;flex-wrap:wrap;margin-left:-.9375em;margin-right:-.9375em}.grid-item{box-sizing:border-box;padding-left:.9375em;padding-right:.9375em;position:relative;width:100%}.grid-center{justify-content:center}.grid-swap{flex-direction:row-reverse}.grid-middle{align-items:center}@media only screen and (min-width:641px){.grid-col-2 .grid-item{flex:0 0 50%;max-width:50%}}@media only screen and (min-width:761px){.grid-col-3 .grid-item{flex:0 0 33.333%;max-width:33.333%}}@media only screen and (max-width:600px){.grid{margin-left:-1.5vw;margin-right:-1.5vw}.grid-item{padding-left:1.5vw;padding-right:1.5vw}}@keyframes fadeIn20{0%{opacity:0}to{opacity:.2}}.site{display:flex;flex-direction:column;min-height:100vh;position:relative}.site-content{box-sizing:border-box;flex-grow:1;width:100%}.outer{padding-left:3vw;padding-right:3vw}.inner{max-width:1200px}.inner,.inner-md{margin-left:auto;margin-right:auto}.inner-md{max-width:800px}.inner-sm{margin-left:auto;margin-right:auto;max-width:680px}.site-header{background:#fff;padding-bottom:1.25em;padding-top:1.125em}.site-header-inside{align-items:center;display:flex}.site-branding{flex:0 1 auto}.site-title{color:#283040;font-size:1.5em;font-weight:700;line-height:1.2;margin:0}.site-logo{margin:0}.site-logo img{max-height:36px}.menu,.submenu{list-style:none;margin:0;padding:0}.menu-item{position:relative}.menu-item.current{color:#00c6ff}.menu-item a:not(.button){display:inline-block;font-size:.9375em;line-height:1.5}#masthead a:not(.button){color:inherit;display:inline-block;text-decoration:none}#masthead a:not(.button):hover{color:#00c6ff}#masthead .site-branding a:hover{color:inherit}@media only screen and (min-width:801px){#menu-close,#menu-open{display:none}.site-navigation{margin-left:auto}.menu{align-items:center;display:flex}.menu-item{display:inline-block;margin:0 0 0 1.25em;padding-bottom:.1875em;padding-top:.1875em}.menu-item a{padding-bottom:.5em;padding-top:.5em}.menu-item a.button:not(.button-icon){padding-left:1.25em;padding-right:1.25em}.menu-item.has-children>a{padding-right:15px;position:relative}.menu-item.has-children>a:after{background:0;border-color:currentcolor;border-style:solid;border-width:1px 1px 0 0;box-sizing:border-box;content:"";height:6px;position:absolute;right:0;top:50%;width:6px;transform:translateY(-50%) rotate(135deg)}.menu-item.has-children>a.button:not(.button-icon){padding-right:2.25em}.menu-item.has-children>a.button:not(.button-icon):after{right:1.25em}.menu-item .submenu-toggle{display:none}.menu-item.has-children:hover>.submenu{opacity:1;transition:margin .3s,opacity .2s;visibility:visible}.submenu{background:#fff;border:1px solid #dde0e7;border-radius:3px;box-shadow:0 1px 2px 0 rgba(0,0,0,.08);left:0;min-width:180px;opacity:0;padding:.5em 0;position:absolute;text-align:left;top:100%;transition:opacity .2s,visibility 0s .2s;visibility:hidden;width:100%;z-index:99}.submenu .menu-item{display:block;margin:0;padding:0 1em}.submenu a:not(.button-icon){display:block}.submenu a.button:not(.button-icon){margin:.5em 0}}@media only screen and (max-width:800px){.site{overflow:hidden;position:relative}.site-branding{margin-right:.625em}.site-header:after{background:rgba(66,75,95,.6);content:"";left:0;opacity:0;transition:opacity .15s ease-in-out,visibility 0s ease-in-out .15s;z-index:998}.site-header:after,.site-navigation{height:100vh;position:absolute;top:0;visibility:hidden;width:100%}.site-navigation{background:#fff;box-sizing:border-box;margin:0;max-width:360px;-webkit-overflow-scrolling:touch;right:-100%;transition:right .3s ease-in-out,visibility 0s ease-in-out .3s;z-index:999}.site-nav-inside{height:100%;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.menu--opened .site{height:100%;left:0;overflow:hidden;position:fixed;top:0;transform:translateZ(0);width:100%;z-index:997}.menu--opened .site-navigation{right:0;transition:right .3s ease-in-out;visibility:visible}.menu--opened .site-header:after{opacity:1;transition-delay:0s;visibility:visible}.menu{padding:calc(3vw + 2.8125em) 3vw 3em}.submenu{border-top:1px solid #dde0e7;display:none;padding-left:1em}.menu-item{display:block;margin:0}.menu-item:not(.menu-button){border-bottom:1px solid #dde0e7}.menu-item:not(.menu-button):first-child{border-top:1px solid #dde0e7}.menu-item a.button-icon,.menu-item a:not(.button){padding:.75em 0}.menu-item a:not(.button){display:block}.menu-item a.button:not(.button-icon){width:100%}.menu-item.has-children>a{margin-right:2em}.menu-item .menu-item:first-child{border-top:0}.menu-item .menu-item:last-child{border-bottom:0}.menu-item .submenu-toggle{color:#67758d;height:2.8125em;position:absolute;right:0;top:0}.menu-item.active .submenu-toggle .icon-angle-right{transform:rotate(135deg)}.menu-item.active .submenu{display:block}.menu-button>.button:not(.button-icon){margin-bottom:1.25em;margin-top:1.25em}.menu-button+.menu-button>.button:not(.button-icon){margin-top:0}#menu-open{margin-left:auto}#menu-close{display:block;position:absolute;right:3vw;top:3vw}}.post{margin-bottom:2.5em}.post-feed:last-child,.post-full:last-child{margin-bottom:5em}.has-gradient.page-header,.has-gradient.post-header{padding-bottom:9.5em;padding-top:3.75em;text-align:center}.has-gradient .page-title,.has-gradient .post-title{color:inherit;font-size:2.25em;margin:0}.page-subtitle,.post-subtitle{font-size:1.125em;line-height:1.5;margin:.5em 0 0;position:relative}.post-title a{color:inherit!important;text-decoration:none}.post-thumbnail{border:0;border-radius:5px 5px 0 0;display:block;margin:0}.post-thumbnail img{border-radius:5px 5px 0 0;width:100%}.post-feed,.post-full .post-content{margin-top:-5em;position:relative}.post-feed .post,.post-full .post-content{background:#fff;border:1px solid #dde0e7;border-radius:5px;box-shadow:0 1px 2px 0 rgba(0,0,0,.08)}.post-full .post-content{padding:2.5em 1.5em}.post-full .post-meta{margin:0 0 .5em}.post-feed .post{padding:0 0 2.5em}.post-feed .post-meta{color:#67758d;font-size:.875em;margin:0 0 .5em;padding-left:1.71428em;padding-right:1.71428em}.post-feed .post-header{margin:0 0 1.25em;padding-top:1.875em}.post-feed .post-title{font-size:1.5em;margin:0;padding-left:1em;padding-right:1em}.post-feed .post-excerpt{margin-bottom:1.25em;padding-left:1.5em;padding-right:1.5em}.post-feed .read-more{margin:0;padding-left:1.5em;padding-right:1.5em}.post-feed .read-more-link{font-weight:700;text-decoration:none}.post-feed .read-more-link:after{font-size:1.125em;content:"\2192";line-height:1.5;margin-left:5px}.post-feed .read-more-link:hover{color:#424b5f}@media only screen and (min-width:641px){.has-gradient .page-title,.has-gradient .post-title{font-size:3em}.page-subtitle,.post-subtitle{font-size:1.25em}.post-full .post-meta{font-size:1.125em}.post-feed .post-excerpt,.post-feed .post-meta,.post-feed .post-title,.post-feed .read-more,.post-full .post-content{padding-left:7%;padding-right:7%}}@media only screen and (max-width:1000px){.post{margin-bottom:4vw}}.docs-content{padding-top:2.5em}.post.type-docs{margin-bottom:5.625em;max-width:800px}.post.type-docs h1{font-size:1.875em}.post.type-docs h2{font-size:1.5em}.post.type-docs h3{font-size:1.25em}.post.type-docs h4{font-size:1.125em}.post.type-docs h5,.post.type-docs h6{font-size:1em}.post.type-docs .hash-link{float:left;font-size:1.25rem;height:1em;line-height:1;margin-left:-1.1em;opacity:0;text-align:center;text-decoration:none;transition:opacity .2s;width:1em}.post.type-docs .hash-link:before{content:"#";display:inline-block}.post.type-docs .hash-link:focus,.post.type-docs .hash-link:hover{color:#00c6ff}.post.type-docs h2 .hash-link{margin-top:.22em}.post.type-docs h3 .hash-link{margin-top:.1em}.post.type-docs h2:focus .hash-link,.post.type-docs h2:hover .hash-link,.post.type-docs h3:focus .hash-link,.post.type-docs h3:hover .hash-link{opacity:1}.post.type-docs .post-inside{background:#fff;border:1px solid #dde0e7;border-radius:5px;box-shadow:0 1px 2px 0 rgba(0,0,0,.08);padding:2.5em 0}.post.type-docs .post-title{font-size:1.875em;margin:0 0 1.25em;padding:0 1em}.post.type-docs .post-content{padding:0 1.875em}#docs-section-items{display:flex;flex-wrap:wrap;list-style:none;margin-left:-.3125em;margin-right:-.3125em;padding:0}#docs-section-items .docs-section-item{flex:1 1 240px;margin:0 .3125em .9375em}#docs-section-items .docs-item-link{border:1px solid #dde0e7;border-radius:3px;color:#283040;display:block;font-weight:700;padding:.9375em;position:relative;text-decoration:none;transition:border-color .3s ease,color .3s ease}#docs-section-items .docs-item-link:hover{border-color:#00c6ff;color:#00c6ff}.docs-nav{margin-bottom:1.875em}.docs-nav .docs-nav-toggle{color:#283040;font-size:1.125em;margin:0;padding-right:30px;text-align:left;width:100%}.docs-nav .docs-submenu-toggle{color:#67758d;position:absolute;right:0;top:0}#docs-menu{color:#283040;font-weight:700;line-height:1.5;list-style:none;margin:0;padding:0}#docs-menu>.docs-menu-item>a{padding:.1875em 0}#docs-menu a{color:inherit;display:block;text-decoration:none}#docs-menu .current,#docs-menu .current-parent,#docs-menu a:hover{color:#00c6ff}.docs-submenu{border-left:1px solid #dde0e7;color:#424b5f;display:none;font-size:.9375em;font-weight:400;list-style:none;margin-top:.625rem;padding-left:1.25rem}.docs-menu-item{color:inherit;margin-bottom:.625rem}.docs-menu-item.has-children{padding-right:30px;position:relative}.docs-menu-item.has-children.active .docs-submenu{display:block}.docs-menu-item.has-children.active>.docs-submenu-toggle .icon-angle-right{transform:rotate(135deg)}#page-nav{display:none}#page-nav .page-nav-title{font-size:1em;margin:0 0 .625em}#page-nav ul{font-size:.875rem;line-height:1.5;list-style:none;padding:0}#page-nav ul ul{border-left:1px solid #dde0e7;margin-top:.625rem;padding-left:1.25rem}#page-nav li{margin-bottom:.625rem}#page-nav li.active>a{color:#00c6ff}#page-nav a{color:#424b5f;display:block;text-decoration:none}#page-nav a:hover{color:#00c6ff}#page-nav .page-nav-inside{display:none}#page-nav .page-nav-inside.has-links{display:block}@media only screen and (min-width:641px){.post.type-docs .post-content,.post.type-docs .post-title{padding-left:7%;padding-right:7%}}@media only screen and (min-width:801px){.docs-content{display:flex;padding-top:3.75em}.post.type-docs{flex:1 1 auto;overflow:hidden}.docs-nav,.page-nav{flex-shrink:0;margin-bottom:5.625em}.docs-nav .sticky,.page-nav .sticky{position:-webkit-sticky;position:sticky;top:1.875em}.docs-nav{padding-right:1.5em;width:12.5em}#page-nav{padding-left:1.5em;width:9.5em}#docs-nav-toggle{display:none}}@media only screen and (min-width:1091px){#page-nav{display:block}}@media only screen and (max-width:800px){.docs-nav{background:#fff;border:1px solid #dde0e7;border-radius:5px;box-shadow:0 1px 2px 0 rgba(0,0,0,.08);box-sizing:border-box;margin-bottom:5%;padding:.75em 1em}.docs-nav-menu{display:none}.docs-menu--opened .docs-nav-menu{display:block}.docs-menu--opened .docs-nav-toggle .icon-angle-right{transform:rotate(135deg)}#docs-menu{border-top:1px solid #dde0e7;margin-top:1.25em;padding-top:1.25em}}.block{padding-top:3.75em}.block:not(.block-hero){background:#f8f8fa}.block:last-child{padding-bottom:3.75em}.block-header,.block-image{margin-bottom:1.5em}.block-title{margin:0}.block-subtitle{color:#67758d;line-height:1.5;margin-bottom:0}.block-subtitle:not(:first-child){margin-top:.5em}.block-buttons,.grid-item-buttons{align-items:center;display:flex;flex-wrap:wrap;margin-bottom:.9375em}.block-buttons a,.grid-item-buttons a{font-weight:700;text-decoration:none}.block-buttons{justify-content:center}.block-buttons a{margin:0 .375em .75em}.grid-item-buttons a{margin:0 .75em .75em 0}.has-gradient .block-subtitle{color:inherit}.block-hero .block-buttons:not(:first-child),.block-text .block-buttons:not(:first-child){margin-top:1.875em}.block-text .grid-item{max-width:680px;text-align:center}.block-text .block-title{font-size:1.875em}@media only screen and (min-width:641px){.block-text .block-content{font-size:1.125em}.block-text .block-title{font-size:2.125em}}@media only screen and (min-width:801px){.block-text .grid-item:not(:only-child){flex:0 0 50%;max-width:50%}.block-body:not(:only-child){text-align:left}.block-body:not(:only-child) .block-buttons{justify-content:flex-start}.block-body:not(:only-child) .block-buttons a{margin-left:0;margin-right:.75em}}@media only screen and (min-width:1001px){.block-image:not(:only-child){padding-right:2.5em}.grid-swap .block-image:not(:only-child){padding-left:2.5em;padding-right:.9375em}}.block-cta .has-gradient{border-radius:5px;margin-bottom:1.875em;padding:3.75em 3vw 1.875em}.block-cta .block-header{max-width:680px;text-align:center}.block-cta .block-title{font-size:1.875em}.block-cta .block-subtitle{font-size:1.125em}@media only screen and (min-width:641px){.block-title{font-size:2.125em}}@media only screen and (min-width:801px){.block-cta .has-gradient{padding-left:7%;padding-right:7%}.block-cta .block-header{flex:0 0 66.666%;max-width:66.666%;text-align:left}.block-cta .block-buttons{flex:0 0 33.333%;margin-top:0;max-width:33.333%}}.block-hero+.block-grid:not(.has-header){background:0;padding-top:0}.block-grid .block-header{margin-bottom:2em;text-align:center}.block-grid .block-title{font-size:1.875em}.block-grid .grid-item{display:flex;flex-direction:column;margin-bottom:1.875em}.grid-item-inside{background:#fff;border:1px solid #dde0e7;border-radius:3px;box-shadow:0 1px 2px 0 rgba(0,0,0,.08);box-sizing:border-box;flex-grow:1;padding-bottom:.75em}.grid-item-image{display:block;width:100%}.grid-item-image,.grid-item-image img{border-radius:3px 3px 0 0}.grid-item-title{font-size:1.5em;margin:1em 0 .5em;padding-left:1em;padding-right:1em}.grid-item-title:first-child{margin-top:1.25em}.grid-item-title a{color:inherit!important;text-decoration:none}.grid-item-buttons,.grid-item-content{padding-left:1.5em;padding-right:1.5em}.grid-item-content{margin-bottom:1.25em}.grid-item-buttons a:not(.button):after{font-size:1.125em;content:"\2192";line-height:1.5;margin-left:5px}@media only screen and (max-width:1000px){.block-grid .grid-item{margin-bottom:4vw}}.block-hero{padding-bottom:7.5em;position:relative;text-align:center}.block-hero .block-header{margin-bottom:.75em}.block-hero .block-title{font-size:2.25em}.block-hero .block-content{font-size:1.125em;line-height:1.5}.block-hero+.block{margin-top:-5em;position:relative}@media only screen and (min-width:641px){.block-hero .block-title{font-size:3em}.block-hero .block-content{font-size:1.25em}.block-hero .block-buttons a{font-size:1em}}.site-footer{background-color:#fff;padding-bottom:1.5em;padding-top:1.5em}#colophon a:not(.button){color:inherit}#colophon a:not(.button):focus,#colophon a:not(.button):hover{color:#00c6ff}.site-info,.social-links{align-items:center;display:flex;flex-wrap:wrap;justify-content:center;font-size:.875em;line-height:1.2}.site-info .button:not(.button-icon),.social-links .button:not(.button-icon){font-size:inherit;line-height:1.2;padding:.3em 1em}.site-info{margin:.25em 0 0;text-align:center}.site-info .copyright,.site-info>a{margin:0 8px .5em 0}.social-links{margin-top:.9375em}.social-links a{margin:0 10px .5em}.social-links .icon{font-size:20px}@media only screen and (min-width:641px){.site-footer-inside{align-items:flex-start;display:flex}.site-info{text-align:left}.site-info,.social-links{justify-content:flex-start}.social-links{flex:0 0 auto;flex-wrap:nowrap;margin-left:auto;margin-top:0}.social-links a{margin-left:20px;margin-right:0}}.palette-green a:not(.button){color:#20c86e}.palette-green a:not(.button):hover{color:#424b5f}.palette-green blockquote{border-color:#20c86e}.palette-green .button,.palette-green .line-left:after{background:#20c86e}.palette-green .has-gradient{background:#20c86e;background:linear-gradient(90deg,#1ba65b,#20c86e)}.palette-green #colophon a:not(.button):hover,.palette-green #docs-menu .current,.palette-green #docs-menu .current-parent,.palette-green #docs-menu a:hover,.palette-green #masthead a:not(.button):hover,.palette-green #page-nav a:hover,.palette-green #page-nav li.active>a,.palette-green .button-icon:active,.palette-green .button-icon:focus,.palette-green .button-icon:hover,.palette-green .button-secondary,.palette-green .has-gradient .button:not(.button-secondary),.palette-green .menu-item.current,.palette-green .post.type-docs .hash-link:focus,.palette-green .post.type-docs .hash-link:hover{color:#20c86e}.palette-green #docs-section-items .docs-item-link:hover{border-color:#20c86e;color:#20c86e}.palette-navy a:not(.button){color:#004e92}.palette-navy a:not(.button):hover{color:#424b5f}.palette-navy blockquote{border-color:#004e92}.palette-navy .button,.palette-navy .line-left:after{background:#004e92}.palette-navy .has-gradient{background:#004e92;background:linear-gradient(90deg,#000428,#004e92)}.palette-navy #colophon a:not(.button):hover,.palette-navy #docs-menu .current,.palette-navy #docs-menu .current-parent,.palette-navy #docs-menu a:hover,.palette-navy #masthead a:not(.button):hover,.palette-navy #page-nav a:hover,.palette-navy #page-nav li.active>a,.palette-navy .button-icon:active,.palette-navy .button-icon:focus,.palette-navy .button-icon:hover,.palette-navy .button-secondary,.palette-navy .has-gradient .button:not(.button-secondary),.palette-navy .menu-item.current,.palette-navy .post.type-docs .hash-link:focus,.palette-navy .post.type-docs .hash-link:hover{color:#004e92}.palette-navy #docs-section-items .docs-item-link:hover{border-color:#004e92;color:#004e92}.palette-violet a:not(.button){color:#8e2de2}.palette-violet a:not(.button):hover{color:#424b5f}.palette-violet blockquote{border-color:#8e2de2}.palette-violet .button,.palette-violet .line-left:after{background:#8e2de2}.palette-violet .has-gradient{background:#8e2de2;background:linear-gradient(90deg,#4a00e0,#8e2de2)}.palette-violet #colophon a:not(.button):hover,.palette-violet #docs-menu .current,.palette-violet #docs-menu .current-parent,.palette-violet #docs-menu a:hover,.palette-violet #masthead a:not(.button):hover,.palette-violet #page-nav a:hover,.palette-violet #page-nav li.active>a,.palette-violet .button-icon:active,.palette-violet .button-icon:focus,.palette-violet .button-icon:hover,.palette-violet .button-secondary,.palette-violet .has-gradient .button:not(.button-secondary),.palette-violet .menu-item.current,.palette-violet .post.type-docs .hash-link:focus,.palette-violet .post.type-docs .hash-link:hover{color:#8e2de2}.palette-violet #docs-section-items .docs-item-link:hover{border-color:#8e2de2;color:#8e2de2}</style><meta name="generator" content="Gatsby 2.25.4"/><title data-react-helmet="true">React By Usecase</title><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initialScale=1.0"/><meta data-react-helmet="true" name="description" content="Of course, if you get a DOM node for the component via refs, you can do anything you want with the DOM nodes of other components, but it will likely mess up React."/><meta data-react-helmet="true" name="robots" content=""/><link as="script" rel="preload" href="/webpack-runtime-ff02ab28bbe19ce1254f.js"/><link as="script" rel="preload" href="/framework-e132d18971612bcf60f3.js"/><link as="script" rel="preload" href="/app-4a89a8a97bdba4a58b44.js"/><link as="script" rel="preload" href="/styles-7d4153d260c0197f0043.js"/><link as="script" rel="preload" href="/29107295-e9457ed2135dcbbf6ce8.js"/><link as="script" rel="preload" href="/7e83cccf5627985ffa1ad445adbbed4378ad9bf2-da9213b0ce77da97eacb.js"/><link as="script" rel="preload" href="/component---src-templates-docs-js-937e318e7b13f2e53450.js"/><link as="fetch" rel="preload" href="/page-data/docs/react/react-patterns-by-usecase/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body class="palette-blue"><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="page" class="site"><header id="masthead" class="site-header outer"><div class="inner"><div class="site-header-inside"><div class="site-branding"><p class="site-logo"><a href="/"><img src="/images/logo.svg" alt="Libris logo"/></a></p></div><nav id="main-navigation" class="site-navigation" aria-label="Main Navigation"><div class="site-nav-inside"><button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button><ul class="menu"><li class="menu-item"><a href="/">Home</a></li><li class="menu-item"><a href="/docs">Docs</a></li><li class="menu-item"><a href="/blog">Blog</a></li><li class="menu-item has-children"><a href="#">Sample Pages</a><button class="submenu-toggle"><span class="icon-angle-right" aria-hidden="true"></span><span class="screen-reader-text">Sub-menu</span></button><ul class="submenu"><li class="menu-item"><a href="/overview">Overview</a></li><li class="menu-item"><a href="/showcase">Showcase</a></li></ul></li><li class="menu-item"><a href="/style-guide">Style Guide</a></li><li class="menu-item menu-button"><a href="https://github.com/" class="button">GitHub</a></li></ul></div></nav><button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button></div></div></header><main id="content" class="site-content"><div class="inner outer"><div class="docs-content"><nav id="docs-nav" class="docs-nav"><div id="docs-nav-inside" class="docs-nav-inside sticky"><button id="docs-nav-toggle" class="docs-nav-toggle">Navigate Docs<span class="icon-angle-right" aria-hidden="true"></span></button><div class="docs-nav-menu"><ul id="docs-menu" class="docs-menu"><li class="docs-menu-item"><a href="/docs/">Welcome to Libris</a></li><li class="docs-menu-item has-children"><a href="/docs/about/">About</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/about/eng-portfolio/">Engineering Portfolio</a></li><li class="docs-menu-item"><a href="/docs/about/intrests/">Youtube</a></li><li class="docs-menu-item"><a href="/docs/about/job-search/">Job Search</a></li><li class="docs-menu-item"><a href="/docs/about/readme/">readme</a></li><li class="docs-menu-item"><a href="/docs/about/resume/">Resume</a></li><li class="docs-menu-item"><a href="/docs/about/overview/">Overview</a></li><li class="docs-menu-item"><a href="/docs/about/features/">Features</a></li><li class="docs-menu-item"><a href="/docs/about/internal-use/">Internal Use</a></li></ul></li><li class="docs-menu-item has-children"><a href="/docs/getting-started/">Getting Started</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/getting-started/installation/">Installation</a></li><li class="docs-menu-item"><a href="/docs/getting-started/quick-start/">Quick Start</a></li></ul></li><li class="docs-menu-item has-children"><a href="/docs/ui-components/">UI Components</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/ui-components/typography/">Typography</a></li></ul></li><li class="docs-menu-item"><a href="/docs/manage-content/">Manage Content</a></li><li class="docs-menu-item has-children"><a href="/docs/tools/">Tools</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/tools/dev-utilities/">General Utilities</a></li><li class="docs-menu-item"><a href="/docs/tools/starter-theme/">Starter Theme</a></li><li class="docs-menu-item"><a href="/docs/tools/markdown-html/">md and html</a></li><li class="docs-menu-item"><a href="/docs/tools/plug-ins/">Plug-ins</a></li></ul></li><li class="docs-menu-item has-children"><a href="/docs/faq/">FAQ</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/faq/plug-ins/">Plug-ins</a></li><li class="docs-menu-item"><a href="/docs/faq/contact/">Contact!</a></li></ul></li><li class="docs-menu-item has-children"><a href="/docs/community/">Where To Get Support</a><button class="docs-submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button><ul class="docs-submenu"><li class="docs-menu-item"><a href="/docs/community/video-chat/">Video Chat</a></li><li class="docs-menu-item"><a href="/docs/community/an-open-letter-2-future-developers/">New Developers</a></li><li class="docs-menu-item"><a href="/docs/community/bookmarks/">Bookmarks</a></li><li class="docs-menu-item"><a href="/docs/community/everything-you-need-to-know-about-relational-databases/">Everything You Need To Know About Relational Databases</a></li></ul></li></ul></div></div></nav><article class="post type-docs"><div class="post-inside"><header class="post-header"><h1 class="post-title line-left">React By Usecase</h1></header><div class="post-content"><h2>Wrapping/Mirroring</h2><h3>Wrapping/Mirroring a HTML Element</h3><p>Usecase: you want to make a <code>&lt;Button&gt;</code> that takes all the normal props of <code>&lt;button&gt;</code> and does extra stuff.</p><p>Strategy: extend <code>React.ComponentPropsWithoutRef&lt;&#x27;button&#x27;&gt;</code></p><pre><code class="language-tsx">// usage
function App() {
    // Type &#x27;&quot;foo&quot;&#x27; is not assignable to type &#x27;&quot;button&quot; | &quot;submit&quot; | &quot;reset&quot; | undefined&#x27;.(2322)
    // return &lt;Button type=&quot;foo&quot;&gt; sldkj &lt;/Button&gt;

    // no error
    return &lt;Button type=&quot;button&quot;&gt; text &lt;/Button&gt;;
}

// implementation
export interface ButtonProps extends React.ComponentPropsWithoutRef&lt;&#x27;button&#x27;&gt; {
    specialProp?: string;
}
export function Button(props: ButtonProps) {
    const { specialProp, ...rest } = props;
    // do something with specialProp
    return &lt;button {...rest} /&gt;;
}
</code></pre><p><a href="https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcA5FDvmQNwCwAUI4wPQtwCuqyA5lowQ4A7fMAhC4AQTBgAFAEo4Ab0Zw4bOABUAnmCzkARAQgQDZOMHRCI8NKmA8hyAEYAbfTAhwYu-WQPOHDCeQgZwAD5wBqgcziDAMGGRBpSoWIkRnEIAJlgEwEJY2WQAdLIATADM5eXyqurslDAcUBIAPABCQSHevgC8RiYGAHxwqK7ZANYAVnBtLF3B4sP19RrWcFhQxFD1TS3tiz0+egOBS6GjMFgAHvDzR8uMAL7MDBqgYO4gWEIwyDAxEJGLdILALH8tgQ8PpHkIAArEMDoW7XHLobB4GAlADCJEghT+iIgyLaZHOITIoxUDDUqD0uGAyFcxLAAH4AFxjGBQAo8egMV4MUHQQjCUTiOBw2RgJGoLlw1moRQ0tS4cSoeBKMYMpkspEAGjgJRNqXgzzgfTgspJqAFag02S8qBI6QAFny4AB3BJunVYRnM1l7dIHOYUyVKE0lM0WljDAXPIA"><em>See this in the TS Playground</em></a></p><p><strong>Forwarding Refs</strong>: As <a href="https://reactjs.org/docs/forwarding-refs.html">the React docs themselves note</a>, most usecases will not need to obtain a ref to the inner element. But for people making reusable component libraries, you will need to <code>forwardRef</code> the underlying element, and then you can use <code>ComponentPropsWithRef</code> to grab props for your wrapper component. Check <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forward_and_create_ref/">our docs on forwarding Refs</a> for more.</p><p>In future, the need to <code>forwardRef</code> may go away in React 17+, but for now we still have to deal with this. ðŸ™ƒ</p><details><summary><p>Why not <code>ComponentProps</code> or <code>IntrinsicElements</code> or <code>[Element]HTMLAttributes</code> or <code>HTMLProps</code> or <code>HTMLAttributes</code>?</p></summary><h2><code>ComponentProps</code></h2><p>You CAN use <code>ComponentProps</code> in place of <code>ComponentPropsWithRef</code>, but you may prefer to be explicit about whether or not the component&#x27;s refs are forwarded, which is what we have chosen to demonstrate. The tradeoff is slightly more intimidating terminology.</p><p>More info: <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forward_and_create_ref/">https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forward_and_create_ref/</a></p><h3>Maybe <code>JSX.IntrinsicElements</code> or <code>React.[Element]HTMLAttributes</code></h3><p>There are at least 2 other equivalent ways to do this, but they are more verbose:</p><pre><code class="language-tsx">// Method 1: JSX.IntrinsicElements
type btnType = JSX.IntrinsicElements[&quot;button&quot;]; // cannot inline or will error
export interface ButtonProps extends btnType {} // etc

// Method 2: React.[Element]HTMLAttributes
export interface ButtonProps extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt;
</code></pre><p>Looking at <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/f3134f4897c8473f590cbcdd5788da8d59796f45/types/react/index.d.ts#L821">the source for <code>ComponentProps</code></a> shows that this is a clever wrapper for <code>JSX.IntrinsicElements</code>, whereas the second method relies on specialized interfaces with unfamiliar naming/capitalization.</p><blockquote><p>Note: There are over 50 of these specialized interfaces available - look for <code>HTMLAttributes</code> in our <a href="https://react-typescript-cheatsheet.netlify.app/docs/advanced/types_react_api#typesreact"><code>@types/react</code> commentary</a>.</p></blockquote><p>Ultimately, <a href="https://github.com/typescript-cheatsheets/react/pull/276">we picked the <code>ComponentProps</code> method</a> as it involves the least TS specific jargon and has the most ease of use. But you&#x27;ll be fine with either of these methods if you prefer.</p><h3>Definitely not <code>React.HTMLProps</code> or <code>React.HTMLAttributes</code></h3><p>This is what happens when you use <code>React.HTMLProps</code>:</p><pre><code class="language-tsx">export interface ButtonProps extends React.HTMLProps&lt;HTMLButtonElement&gt; {
    specialProp: string;
}
export function Button(props: ButtonProps) {
    const { specialProp, ...rest } = props;
    // ERROR: Type &#x27;string&#x27; is not assignable to type &#x27;&quot;button&quot; | &quot;submit&quot; | &quot;reset&quot; | undefined&#x27;.
    return &lt;button {...rest} /&gt;;
}
</code></pre><p>It infers a too-wide type of <code>string</code> for <code>type</code>, because it <a href="https://github.com/typescript-cheatsheets/react/issues/128#issuecomment-508103558">uses <code>AllHTMLAttributes</code> under the hood</a>.</p><p>This is what happens when you use <code>React.HTMLAttributes</code>:</p><pre><code class="language-tsx">export interface ButtonProps extends React.HTMLAttributes&lt;HTMLButtonElement&gt; {
    /* etc */
}
// usage
function App() {
    // Property &#x27;type&#x27; does not exist on type &#x27;IntrinsicAttributes &amp; ButtonProps&#x27;
    return &lt;Button type=&quot;submit&quot;&gt; text &lt;/Button&gt;;
}
</code></pre></details><h3>Wrapping/Mirroring a Component</h3><blockquote><p>TODO: this section needs work to make it simplified.</p></blockquote><p>Usecase: same as above, but for a React Component you don&#x27;t have access to the underlying props</p><pre><code class="language-tsx">const Box = (props: React.CSSProperties) =&gt; &lt;div style={props} /&gt;;

const Card = (
    { title, children, ...props }: { title: string } &amp; $ElementProps&lt;typeof Box&gt; // new utility, see below
) =&gt; (
    &lt;Box {...props}&gt;
        {title}: {children}
    &lt;/Box&gt;
);
</code></pre><p>Strategy: extract a component&#x27;s props by inferring them</p><p>Example:</p><pre><code class="language-tsx">// ReactUtilityTypes.d.ts
declare type $ElementProps&lt;T&gt; = T extends React.ComponentType&lt;infer Props&gt; ? (Props extends object ? Props : never) : never;
</code></pre><p>Usage:</p><pre><code class="language-tsx">import * as Recompose from &#x27;recompose&#x27;;
export const defaultProps = &lt;C extends React.ComponentType, D extends Partial&lt;$ElementProps&lt;C&gt;&gt;&gt;(
    defaults: D,
    Component: C
): React.ComponentType&lt;$ElementProps&lt;C&gt; &amp; Partial&lt;D&gt;&gt; =&gt; Recompose.defaultProps(defaults)(Component);
</code></pre><p><em>thanks <a href="https://github.com/typescript-cheatsheets/react/issues/23">dmisdm</a></em></p><p>:new: You should also consider whether to explicitly forward refs:</p><pre><code class="language-tsx">// base button, with ref forwarding
type Props = { children: React.ReactNode; type: &#x27;submit&#x27; | &#x27;button&#x27; };
export type Ref = HTMLButtonElement;
export const FancyButton = React.forwardRef&lt;Ref, Props&gt;((props, ref) =&gt; (
    &lt;button ref={ref} className=&quot;MyCustomButtonClass&quot; type={props.type}&gt;
        {props.children}
    &lt;/button&gt;
));

// second layer button, no need for forwardRef (TODO: doublecheck this)
export interface DoubleWrappedProps extends React.ComponentPropsWithRef&lt;typeof FancyButton&gt; {
    specialProp?: string;
}
export function DoubleWrappedButton(props: DoubleWrappedProps) {
    const { specialProp, ref, ...rest } = props;
    return &lt;button ref={ref} {...rest} /&gt;;
}

// usage
function App() {
    const btnRef = React.useRef&lt;HTMLButtonElement&gt;(null!);
    return (
        &lt;DoubleWrappedButton type=&quot;button&quot; ref={btnRef}&gt;
            {&#x27; &#x27;}
            text{&#x27; &#x27;}
        &lt;/DoubleWrappedButton&gt;
    );
}
</code></pre><p><em><a href="https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcA5FDvmQNwCwAUIwPTNwBGaWHArjDBAB2AGjgB3YDAAWcSgTgFoY5FAAmwQQHNGMAJ5huABWJh0AXjgBvOLinAANqsqCAXJiowAdNjwwAchCqWDRwegZuAESoPOwgkhFwAD5wEex8AoIJAL70DFgAHpCwofrc2PIWABIAKgCyADIAQulCAKL2WCBYgjC5BUXwuEKo8ABiyIK4us38QnAWPvieilDKauUAPOWixhCmAHwAFIdgJqiicgCU8-twh4xwcBtps4KyWARmlnJZNvZoqD8yC6ZgitV0AGF-qhAcCsAkwlgvqc9qhPIisvsHo8rCjTJ5bA4nN0stiNswXhksQxLpdcowWGxUFghoJVHB-rosFBeK9GP1oPANDBuQQ8NwACIQGIdADqUGQYAMql2pjgBRFbPQiy8EJIkEE3RgqtQsskUk2iIg8nGk2mLUEt0s2NQBlwwGQ9lVAH43CMoBpNLlSXlCoKFDxJjBgHMpTKsPLFcqZhkTmc3HH2HKFUqsCqztdnQxHqyRlY4K6WR6vSYLh9RJ5G5Qy78LHjULlHpQYDwoG9ng73p9vh9fpZG55mzBfsx9sGGQxWHAeKhkJosIwCJH8DG3gBBJWHQvY0vwdgwQTlebuXyeFdYTY1BoptodLo9I6CHj2ewAQku2Ldr2-aZtmSZ5i+byIqClJCAkchfOel6jrcIr5PA5KgQmObJg61IhkAA">TS Playground link</a></em></p><h2>Polymorphic Components (e.g. with <code>as</code> props)</h2><blockquote><p>&quot;Polymorphic Components&quot; = passing a component to be rendered, e.g. with <code>as</code> props</p></blockquote><p><code>ElementType</code> is pretty useful to cover most types that can be passed to createElement e.g.</p><pre><code class="language-tsx">function PassThrough(props: { as: React.ElementType&lt;any&gt; }) {
    const { as: Component } = props;

    return &lt;Component /&gt;;
}
</code></pre><p>You might also see this with React Router:</p><pre><code class="language-tsx">const PrivateRoute = ({ component: Component, ...rest }: PrivateRouteProps) =&gt; {
    const { isLoggedIn } = useAuth();

    return isLoggedIn ? &lt;Component {...rest} /&gt; : &lt;Redirect to=&quot;/&quot; /&gt;;
};
</code></pre><p>For more info you can refer to these resources:</p><ul><li><a href="https://blog.andrewbran.ch/polymorphic-react-components/">https://blog.andrewbran.ch/polymorphic-react-components/</a></li><li><a href="https://github.com/kripod/react-polymorphic-box">https://github.com/kripod/react-polymorphic-box</a></li><li><a href="https://stackoverflow.com/questions/58200824/generic-react-typescript-component-with-as-prop-able-to-render-any-valid-dom">https://stackoverflow.com/questions/58200824/generic-react-typescript-component-with-as-prop-able-to-render-any-valid-dom</a></li></ul><p><a href="https://github.com/typescript-cheatsheets/react-typescript-cheatsheet/pull/69">Thanks @eps1lon</a> and <a href="https://github.com/typescript-cheatsheets/react/issues/151">@karol-majewski</a> for thoughts!</p><h2>Generic Components</h2><p>Just as you can make generic functions and classes in TypeScript, you can also make generic components to take advantage of the type system for reusable type safety. Both Props and State can take advantage of the same generic types, although it probably makes more sense for Props than for State. You can then use the generic type to annotate types of any variables defined inside your function / class scope.</p><pre><code class="language-tsx">interface Props&lt;T&gt; {
    items: T[];
    renderItem: (item: T) =&gt; React.ReactNode;
}
function List&lt;T&gt;(props: Props&lt;T&gt;) {
    const { items, renderItem } = props;
    const [state, setState] = React.useState&lt;T[]&gt;([]); // You can use type T in List function scope.
    return (
        &lt;div&gt;
            {items.map(renderItem)}
            &lt;button onClick={() =&gt; setState(items)}&gt;Clone&lt;/button&gt;
            {JSON.stringify(state, null, 2)}
        &lt;/div&gt;
    );
}
</code></pre><p>You can then use the generic components and get nice type safety through type inference:</p><pre><code class="language-tsx">ReactDOM.render(
    &lt;List
        items={[&#x27;a&#x27;, &#x27;b&#x27;]} // type of &#x27;string&#x27; inferred
        renderItem={(item) =&gt; (
            &lt;li key={item}&gt;
                {/* Error: Property &#x27;toPrecision&#x27; does not exist on type &#x27;string&#x27;. */}
                {item.toPrecision(3)}
            &lt;/li&gt;
        )}
    /&gt;,
    document.body
);
</code></pre><p>As of <a href="#typescript-29">TS 2.9</a>, you can also supply the type parameter in your JSX to opt out of type inference:</p><pre><code class="language-tsx">ReactDOM.render(
    &lt;List&lt;number&gt;
        items={[&#x27;a&#x27;, &#x27;b&#x27;]} // Error: Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.
        renderItem={(item) =&gt; &lt;li key={item}&gt;{item.toPrecision(3)}&lt;/li&gt;}
    /&gt;,
    document.body
);
</code></pre><p>You can also use Generics using fat arrow function style:</p><pre><code class="language-tsx">interface Props&lt;T&gt; {
    items: T[];
    renderItem: (item: T) =&gt; React.ReactNode;
}

// Note the &lt;T extends unknown&gt; before the function definition.
// You can&#x27;t use just `&lt;T&gt;` as it will confuse the TSX parser whether it&#x27;s a JSX tag or a Generic Declaration.
// You can also use &lt;T,&gt; https://github.com/microsoft/TypeScript/issues/15713#issuecomment-499474386
const List = &lt;T extends unknown&gt;(props: Props&lt;T&gt;) =&gt; {
    const { items, renderItem } = props;
    const [state, setState] = React.useState&lt;T[]&gt;([]); // You can use type T in List function scope.
    return (
        &lt;div&gt;
            {items.map(renderItem)}
            &lt;button onClick={() =&gt; setState(items)}&gt;Clone&lt;/button&gt;
            {JSON.stringify(state, null, 2)}
        &lt;/div&gt;
    );
};
</code></pre><p>The same for using classes: (Credit: <a href="https://twitter.com/WrocTypeScript/status/1163234064343736326">Karol Majewski</a>&#x27;s <a href="https://gist.github.com/karol-majewski/befaf05af73c7cb3248b4e084ae5df71">gist</a>)</p><pre><code class="language-tsx">interface Props&lt;T&gt; {
    items: T[];
    renderItem: (item: T) =&gt; React.ReactNode;
}

interface State&lt;T&gt; {
    items: T[];
}

class List&lt;T&gt; extends React.PureComponent&lt;Props&lt;T&gt;, State&lt;T&gt;&gt; {
    // You can use type T inside List class.
    state: Readonly&lt;State&lt;T&gt;&gt; = {
        items: []
    };
    render() {
        const { items, renderItem } = this.props;
        // You can use type T inside List class.
        const clone: T[] = items.slice(0);
        return (
            &lt;div&gt;
                {items.map(renderItem)}
                &lt;button onClick={() =&gt; this.setState({ items: clone })}&gt;Clone&lt;/button&gt;
                {JSON.stringify(this.state, null, 2)}
            &lt;/div&gt;
        );
    }
}
</code></pre><p>Though you can&#x27;t use Generic Type Parameters for Static Members:</p><pre><code class="language-tsx">class List&lt;T&gt; extends React.PureComponent&lt;Props&lt;T&gt;, State&lt;T&gt;&gt; {
    // Static members cannot reference class type parameters.ts(2302)
    static getDerivedStateFromProps(props: Props&lt;T&gt;, state: State&lt;T&gt;) {
        return { items: props.items };
    }
}
</code></pre><p>To fix this you need to convert your static function to a type inferred function:</p><pre><code class="language-tsx">class List&lt;T&gt; extends React.PureComponent&lt;Props&lt;T&gt;, State&lt;T&gt;&gt; {
    static getDerivedStateFromProps&lt;T&gt;(props: Props&lt;T&gt;, state: State&lt;T&gt;) {
        return { items: props.items };
    }
}
</code></pre><h3>Generic components with children</h3><p><code>children</code> is usually not defined as a part of the props type. Unless <code>children</code> are explicitly defined as a part of the <code>props</code> type, an attempt to use <code>props.children</code> in JSX or in the function body will fail:</p><pre><code class="language-tsx">interface WrapperProps&lt;T&gt; {
    item: T;
    renderItem: (item: T) =&gt; React.ReactNode;
}

/* Property &#x27;children&#x27; does not exist on type &#x27;WrapperProps&lt;T&gt;&#x27;. */
const Wrapper = &lt;T extends {}&gt;(props: WrapperProps&lt;T&gt;) =&gt; {
    return (
        &lt;div&gt;
            {props.renderItem(props.item)}
            {props.children}
        &lt;/div&gt;
    );
};

/*
Type &#x27;{ children: string; item: string; renderItem: (item: string) =&gt; string; }&#x27; is not assignable to type &#x27;IntrinsicAttributes &amp; WrapperProps&lt;string&gt;&#x27;.
  Property &#x27;children&#x27; does not exist on type &#x27;IntrinsicAttributes &amp; WrapperProps&lt;string&gt;&#x27;.
*/

const wrapper = (
    &lt;Wrapper item=&quot;test&quot; renderItem={(item) =&gt; item}&gt;
        {test}
    &lt;/Wrapper&gt;
);
</code></pre><p><a href="https://www.typescriptlang.org/play/?jsx=2#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wFgAoC4AOxiSk3STgHUoUwx6AFHMAZwA8AFQB8cAN4U4cYHRAAuOMIDc0uEWoATegEl5SgBRyki5QEo4AXnHJ0MAHR2MAOQg615GWgAWwADZamkrOjqFuHhQAvhQUAPQAVHC8EFywAJ4EvgFBSNT4cFoQSPxw1BDwSAAewPzwENRwMOlcBGwcaSkCIqL4DnAJcRRoDXWs7Jz01nAicNV02qUSUaKGYHz8Su2TUF1CYpY2kupEMACuUI2G6jKCWsAAbqI3MpLrqfwOmjpQ+qZrGwcJhA5hiXleMgk7wEDmygU0YIhgji9ye6nMniinniCQowhazHwEjgcNy1CUdSgNAA5ipZAY4JSaXTvnoGcYGUzqNTDuIubS4FECrUyhU4Ch+PxgNTqCgAEb+ZgwCBNAkEXS0KnUKVoACCMBgVLlZzopQAZOMOjwNoJ+b0HOouvRmlk-PC8gUiiVRZUamMGqrWvgNYaaDr9aHjaa4Bbtp0bXa+hRBrFyCNtfBTfArHBDLyZqjRAAJJD+fwqrPIwvDUbwADuEzS02u4MEcamwKsACIs12NHkfn8QFYJMDrOJgSsXhIs4iZnF21BnuQMUA">View in the TypeScript Playground</a></p><p>To work around that, either add <code>children</code> to the <code>WrapperProps</code> definition (possibly narrowing down its type, as needed):</p><pre><code class="language-tsx">interface WrapperProps&lt;T&gt; {
    item: T;
    renderItem: (item: T) =&gt; React.ReactNode;
    children: string; // The component will only accept a single string child
}

const Wrapper = &lt;T extends {}&gt;(props: WrapperProps&lt;T&gt;) =&gt; {
    return (
        &lt;div&gt;
            {props.renderItem(props.item)}
            {props.children}
        &lt;/div&gt;
    );
};
</code></pre><p>or wrap the type of the props in <code>React.PropsWithChildren</code> (this is what <code>React.FC&lt;&gt;</code> does):</p><pre><code class="language-tsx">interface WrapperProps&lt;T&gt; {
    item: T;
    renderItem: (item: T) =&gt; React.ReactNode;
}

const Wrapper = &lt;T extends {}&gt;(props: React.PropsWithChildren&lt;WrapperProps&lt;T&gt;&gt;) =&gt; {
    return (
        &lt;div&gt;
            {props.renderItem(props.item)}
            {props.children}
        &lt;/div&gt;
    );
};
</code></pre><h2>Typing Children</h2><p>Some API designs require some restriction on <code>children</code> passed to a parent component. It is common to want to enforce these in types, but you should be aware of limitations to this ability.</p><h3>What You CAN Do</h3><p>You can type the <strong>structure</strong> of your children: just one child, or a tuple of children.</p><p>The following are valid:</p><pre><code class="language-ts">type OneChild = React.ReactElement;
type TwoChildren = [React.ReactElement, React.ReactElement];
type ArrayOfProps = SomeProp[];
type NumbersChildren = number[];
type TwoNumbersChildren = [number, number];
</code></pre><details><summary>
Don&#x27;t forget that you can also use `prop-types` if TS fails you.
</summary><pre><code class="language-ts">Parent.propTypes = {
    children: PropTypes.shape({
        props: PropTypes.shape({
            // could share `propTypes` to the child
            value: PropTypes.string.isRequired
        })
    }).isRequired
};
</code></pre></details><h3>What You CANNOT Do</h3><p>The thing you cannot do is <strong>specify which components</strong> the children are, e.g. If you want to express the fact that &quot;React Router <code>&lt;Routes&gt;</code> can only have <code>&lt;Route&gt;</code> as children, nothing else is allowed&quot; in TypeScript.</p><p>This is because when you write a JSX expression (<code>const foo = &lt;MyComponent foo=&#x27;foo&#x27; /&gt;</code>), the resultant type is blackboxed into a generic JSX.Element type. (<em><a href="https://github.com/typescript-cheatsheets/react/issues/271">thanks @ferdaber</a></em>)</p><h2>Type Narrowing based on Props</h2><p>What you want:</p><pre><code class="language-tsx">// Usage
function App() {
    return (
        &lt;&gt;
            {/* ðŸ˜Ž All good */}
            &lt;Button target=&quot;_blank&quot; href=&quot;https://www.google.com&quot;&gt;
                Test
            &lt;/Button&gt;
            {/* ðŸ˜­ Error, `disabled` doesnt exist on anchor element */}
            &lt;Button disabled href=&quot;x&quot;&gt;
                Test
            &lt;/Button&gt;
        &lt;/&gt;
    );
}
</code></pre><p>How to implement: Use <a href="https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html#user-defined-type-guards">type guards</a>!</p><pre><code class="language-tsx">// Button props
type ButtonProps = React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt; &amp; {
    href?: undefined;
};

// Anchor props
type AnchorProps = React.AnchorHTMLAttributes&lt;HTMLAnchorElement&gt; &amp; {
    href?: string;
};

// Input/output options
type Overload = {
    (props: ButtonProps): JSX.Element;
    (props: AnchorProps): JSX.Element;
};

// Guard to check if href exists in props
const hasHref = (props: ButtonProps | AnchorProps): props is AnchorProps =&gt; &#x27;href&#x27; in props;

// Component
const Button: Overload = (props: ButtonProps | AnchorProps) =&gt; {
    // anchor render
    if (hasHref(props)) return &lt;a {...props} /&gt;;
    // button render
    return &lt;button {...props} /&gt;;
};
</code></pre><p><a href="https://www.typescriptlang.org/play/?jsx=2#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wFgAoAekrgCEBXGGCAOzjBzAGcKYBPMEjqNmLAAqcucALyJiMAHQMmrABIAVALIAZAIJMowAEaMkXADwady0QFEANkhBIWMAHxwAZHADeFOHAAFkSYAPwAXHD0LAAmSJjALEgxANwUAL5p5BTUcLosaIHQ7JK8AkL5hdASENwycuiKlUVQVnoGxqYWbc3QDk4u7l6+-kEhEXBcMIYsAOZZmRQ5NACSLGCMlBCMG-C1MMCsPOT8gnAA8gBuSFD2ECgx9X7kAQAUHLVckTasNdwAlJEAFIAZQAGgp+s5XFk3h9uJFelA-lxAXBQRCoYMFlllnAAOL0FBQR7MOCFJBoADWcGAmDG8TgSAAHsAplJEiVPhQ0Ed4IEUFxVCF6u9JN8RL9JHAAD55AotFFo+EcqRIlEyNyjABEwXi2tpbBVuKoNAAwrhIElXDy+cIVCxIlcbncHqKVRKHRq5erJP9NSMXnBcigFcUiLEbqM6XBXgKhSExZ9-v6iDB6FA2OYUL4FHmVelg25YcGaCYHXAI3EoKM0xms+XRLn85JC5RixkTbkAKpcFCzJAUTDRDCHNi6MBgV7+54BOuZ2OjALmLVBgIBHyUABUcEAvBuAOD28vZ7HBZhAII8t5R0kv1+YfmwYMSBzBpNqAPpGeyhqkGvWYN9AiYBFqAAd3AhQzwgWZHAUXkQG1Vd12QuB1DMGBb2XSgHyQlDNx3XdAFo9uBbCgHAoAAGjgAADGI2RQL9kmouAYggMxXCZVkpjgVg4FDKooCZRxoXgK8bzXO8HxY+jGMef832ZRDMPXNCpmU8xsMlFhcKw3D-gWIA">View in the TypeScript Playground</a></p><p>Components, and JSX in general, are analogous to functions. When a component can render differently based on their props, it&#x27;s similar to how a function can be overloaded to have multiple call signatures. In the same way, you can overload a function component&#x27;s call signature to list all of its different &quot;versions&quot;.</p><p>A very common use case for this is to render something as either a button or an anchor, based on if it receives a <code>href</code> attribute.</p><pre><code class="language-tsx">type ButtonProps = JSX.IntrinsicElements[&#x27;button&#x27;];
type AnchorProps = JSX.IntrinsicElements[&#x27;a&#x27;];

// optionally use a custom type guard
function isPropsForAnchorElement(props: ButtonProps | AnchorProps): props is AnchorProps {
    return &#x27;href&#x27; in props;
}

function Clickable(props: ButtonProps | AnchorProps) {
    if (isPropsForAnchorElement(props)) {
        return &lt;a {...props} /&gt;;
    } else {
        return &lt;button {...props} /&gt;;
    }
}
</code></pre><p>They don&#x27;t even need to be completely different props, as long as they have at least one difference in properties:</p><pre><code class="language-tsx">type LinkProps = Omit&lt;JSX.IntrinsicElements[&#x27;a&#x27;], &#x27;href&#x27;&gt; &amp; { to?: string };

function RouterLink(props: LinkProps | AnchorProps) {
    if (&#x27;href&#x27; in props) {
        return &lt;a {...props} /&gt;;
    } else {
        return &lt;Link {...props} /&gt;;
    }
}
</code></pre><details><summary><b>Approach: Generic Components</b></summary><p>Here is an example solution, see the further discussion for other solutions. <em>thanks to <a href="https://github.com/typescript-cheatsheets/react-typescript-cheatsheet/issues/12#issuecomment-394440577">@jpavon</a></em></p><pre><code class="language-tsx">interface LinkProps {}
type AnchorProps = React.AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;;
type RouterLinkProps = Omit&lt;NavLinkProps, &#x27;href&#x27;&gt;;

const Link = &lt;T extends {}&gt;(props: LinkProps &amp; T extends RouterLinkProps ? RouterLinkProps : AnchorProps) =&gt; {
    if ((props as RouterLinkProps).to) {
        return &lt;NavLink {...(props as RouterLinkProps)} /&gt;;
    } else {
        return &lt;a {...(props as AnchorProps)} /&gt;;
    }
};

&lt;Link&lt;RouterLinkProps&gt; to=&quot;/&quot;&gt;My link&lt;/Link&gt;; // ok
&lt;Link&lt;AnchorProps&gt; href=&quot;/&quot;&gt;My link&lt;/Link&gt;; // ok
&lt;Link&lt;RouterLinkProps&gt; to=&quot;/&quot; href=&quot;/&quot;&gt;
    My link
&lt;/Link&gt;; // error
</code></pre></details><details><summary><b>Approach: Composition</b></summary><p>If you want to conditionally render a component, sometimes is better to use <a href="https://reactjs.org/docs/composition-vs-inheritance.html">React&#x27;s composition model</a> to have simpler components and better to understand typings:</p><pre><code class="language-tsx">type AnchorProps = React.AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;;
type RouterLinkProps = Omit&lt;AnchorProps, &#x27;href&#x27;&gt;;

interface Button {
    as: React.ComponentClass | &#x27;a&#x27;;
}

const Button: React.FunctionComponent&lt;Button&gt; = (props) =&gt; {
    const { as: Component, children, ...rest } = props;
    return (
        &lt;Component className=&quot;button&quot; {...rest}&gt;
            {children}
        &lt;/Component&gt;
    );
};

const AnchorButton: React.FunctionComponent&lt;AnchorProps&gt; = (props) =&gt; &lt;Button as=&quot;a&quot; {...props} /&gt;;

const LinkButton: React.FunctionComponent&lt;RouterLinkProps&gt; = (props) =&gt; &lt;Button as={NavLink} {...props} /&gt;;

&lt;LinkButton to=&quot;/login&quot;&gt;Login&lt;/LinkButton&gt;;
&lt;AnchorButton href=&quot;/login&quot;&gt;Login&lt;/AnchorButton&gt;;
&lt;AnchorButton href=&quot;/login&quot; to=&quot;/test&quot;&gt;
    Login
&lt;/AnchorButton&gt;; // Error: Property &#x27;to&#x27; does not exist on type...
</code></pre></details><p>You may also want to use Discriminated Unions, please check out <a href="https://blog.andrewbran.ch/expressive-react-component-apis-with-discriminated-unions/">Expressive React Component APIs with Discriminated Unions</a>.</p><p>Here is a brief intuition for <strong>Discriminated Union Types</strong>:</p><pre><code class="language-ts">type UserTextEvent = {
    type: &#x27;TextEvent&#x27;;
    value: string;
    target: HTMLInputElement;
};
type UserMouseEvent = {
    type: &#x27;MouseEvent&#x27;;
    value: [number, number];
    target: HTMLElement;
};
type UserEvent = UserTextEvent | UserMouseEvent;
function handle(event: UserEvent) {
    if (event.type === &#x27;TextEvent&#x27;) {
        event.value; // string
        event.target; // HTMLInputElement
        return;
    }
    event.value; // [number, number]
    event.target; // HTMLElement
}
</code></pre><details><summary>
  Take care: TypeScript does not narrow the type of a Discriminated Union on the basis of typeof checks. The type guard has to be on the value of a key and not it&#x27;s type.
  </summary><pre><code class="language-ts">type UserTextEvent = { value: string; target: HTMLInputElement };
type UserMouseEvent = { value: [number, number]; target: HTMLElement };
type UserEvent = UserTextEvent | UserMouseEvent;
function handle(event: UserEvent) {
    if (typeof event.value === &#x27;string&#x27;) {
        event.value; // string
        event.target; // HTMLInputElement | HTMLElement (!!!!)
        return;
    }
    event.value; // [number, number]
    event.target; // HTMLInputElement | HTMLElement (!!!!)
}
</code></pre><p>The above example does not work as we are not checking the value of <code>event.value</code> but only it&#x27;s type. Read more about it <a href="https://github.com/microsoft/TypeScript/issues/30506#issuecomment-474858198">microsoft/TypeScript#30506 (comment)</a></p></details><details><summary>
  Discriminated Unions in TypeScript can also work with hook dependencies in React. The type matched is automatically updated when the corresponding union member based on which a hook depends, changes. Expand more to see an example usecase.
   <br/><br/></summary><pre><code class="language-tsx">type SingleElement = {
    isArray: true;
    value: string[];
};
type MultiElement = {
    isArray: false;
    value: string;
};
type Props = SingleElement | MultiElement;
function Sequence(p: Props) {
    return React.useMemo(
        () =&gt; (
            &lt;div&gt;
                value(s):
                {p.isArray &amp;&amp; p.value.join(&#x27;,&#x27;)}
                {!p.isArray &amp;&amp; p.value}
            &lt;/div&gt;
        ),
        [p.isArray, p.value] // TypeScript automatically matches the corresponding value type based on dependency change
    );
}
function App() {
    return (
        &lt;div&gt;
            &lt;Sequence isArray={false} value={&#x27;foo&#x27;} /&gt;
            &lt;Sequence isArray={true} value={[&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]} /&gt;
        &lt;/div&gt;
    );
}
</code></pre><a href="https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcA5FDvmQNwBQdMAnmFnAArFjoC8dccAD5wA3vwETgqAIJQoyJgC44MKAFcs9CRIBuyADYblqVcAB2AcwDaAXRpxxAgL7jhY7QKmz5SuAQOomo66BkZwJlDmFloSTvS4EGYmcAAacDxwABRgypwQ3ACU6QB8ouKUMGpQZphUMAB0aoEAslggEJnBmUU8pZ0ecAA8ACbAOsXB2nqGWJmoBYqTEiJg9V5yCnAAZFtwq9Ma9QBWEOaZZAA0ZAUuAwIiAISr6z7bu-uhWLcegwD0o+NggULsErM8ZBsmBc9vUDlgbNDfr84AAVFhYVC4SJgeDINQwEjIGDAXAGfRMOAgIm4AAWGJUdLgCTkGMgZlGljgcJU6PEBXocToBDUZnwwEScGkYDA3TKAgqVRq-QkIzGTP0aFQADlkCAsDwAERSsAGiYDQZpF4KHgifz6QJOLmfG1kAgQCBkR2-M0-S0Qnw21QaR1wm1WV3uy7kABGyCgUbIsYAXmQbF6fQI-gCffy6E4gA">
<i>See this in TS Playground</i>
</a><p>In the above example, based on the <code>isArray</code> union member, the type of the <code>value</code> hook dependency changes.</p></details><p>To streamline this you may also combine this with the concept of <strong>User-Defined Type Guards</strong>:</p><pre><code class="language-ts">function isString(a: unknown): a is string {
    return typeof a === &#x27;string&#x27;;
}
</code></pre><p><a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards">Read more about User-Defined Type Guards in the Handbook</a>.</p><h2>Props: One or the Other but not Both</h2><p>Use the <code>in</code> keyword, function overloading, and union types to make components that take either one or another sets of props, but not both:</p><pre><code class="language-tsx">type Props1 = { foo: string };
type Props2 = { bar: string };

function MyComponent(props: Props1 | Props2) {
    if (&#x27;foo&#x27; in props) {
        // props.bar // error
        return &lt;div&gt;{props.foo}&lt;/div&gt;;
    } else {
        // props.foo // error
        return &lt;div&gt;{props.bar}&lt;/div&gt;;
    }
}
const UsageComponent: React.FC = () =&gt; (
    &lt;div&gt;
        &lt;MyComponent foo=&quot;foo&quot; /&gt;
        &lt;MyComponent bar=&quot;bar&quot; /&gt;
        {/* &lt;MyComponent foo=&quot;foo&quot; bar=&quot;bar&quot;/&gt; // invalid */}
    &lt;/div&gt;
);
</code></pre><p><a href="https://www.typescriptlang.org/play/?jsx=2#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wFgAoCmATzCTgAUcwBnARjgF44BvOTCBABccFjCjAAdgHM4AXwDcVWvSYRWAJi684AIxRQRYiTPlLK5TAFdJGYBElwAstQDCuSJKSSYACjDMLCJqrBwAPoyBGgCUvBRwcMCYcL4ARAIQqYmOAeossTzxCXAA9CVwuawAdPpQpeVIUDhQRQlEMFZQjgA8ACbAAG4AfDyVLFUZct0l-cPmCXJwSAA2LPSF5MX1FYETgtuNza1w7Z09syNjNQZTM4ND8-IUchRoDmJwAKosKNJI7uAHN4YCJkOgYFUAGKubS+WKcIYpIp9e7HbouAGeYH8QScdKCLIlIZojEeIE+PQGPG1QnEzbFHglABUcHRbjJXgpGTxGSytWpBlSRO2UgGKGWwF6cCZJRe9OmFwo0QUQA">View in the TypeScript Playground</a></p><p>Further reading: <a href="http://www.javiercasas.com/articles/typescript-impossible-states-irrepresentable">how to ban passing <code>{}</code> if you have a <code>NoFields</code> type.</a></p><h2>Props: Must Pass Both</h2><pre><code class="language-tsx">type OneOrAnother&lt;T1, T2&gt; = (T1 &amp; { [K in keyof T2]?: undefined }) | (T2 &amp; { [K in keyof T1]?: undefined });

type Props = OneOrAnother&lt;{ a: string; b: string }, {}&gt;;

const a: Props = { a: &#x27;a&#x27; }; // error
const b: Props = { b: &#x27;b&#x27; }; // error
const ab: Props = { a: &#x27;a&#x27;, b: &#x27;b&#x27; }; // ok
</code></pre><p>Thanks <a href="https://twitter.com/kentcdodds/status/1085655423611367426">diegohaz</a></p><h2>Props: Pass One ONLY IF the Other Is Passed</h2><p>Say you want a Text component that gets truncated if <code>truncate</code> prop is passed but expands to show the full text when <code>expanded</code> prop is passed (e.g. when the user clicks the text).</p><p>You want to allow <code>expanded</code> to be passed only if <code>truncate</code> is also passed, because there is no use for <code>expanded</code> if the text is not truncated.</p><p>Usage example:</p><pre><code class="language-tsx">const App: React.FC = () =&gt; (
    &lt;&gt;
        {/* these all typecheck */}
        &lt;Text&gt;not truncated&lt;/Text&gt;
        &lt;Text truncate&gt;truncated&lt;/Text&gt;
        &lt;Text truncate expanded&gt;
            truncate-able but expanded
        &lt;/Text&gt;
        {/* TS error: Property &#x27;truncate&#x27; is missing in type &#x27;{ children: string; expanded: true; }&#x27; but required in type &#x27;{ truncate: true; expanded?: boolean | undefined; }&#x27;. */}
        &lt;Text expanded&gt;truncate-able but expanded&lt;/Text&gt;
    &lt;/&gt;
);
</code></pre><p>You can implement this by function overloads:</p><pre><code class="language-tsx">type CommonProps = {
    children: React.ReactNode;
    miscProps?: any;
};

type NoTruncateProps = CommonProps &amp; { truncate?: false };

type TruncateProps = CommonProps &amp; { truncate: true; expanded?: boolean };

// Function overloads to accept both prop types NoTruncateProps &amp; TruncateProps
function Text(props: NoTruncateProps): JSX.Element;
function Text(props: TruncateProps): JSX.Element;
function Text(props: CommonProps &amp; { truncate?: boolean; expanded?: boolean }) {
    const { children, truncate, expanded, ...otherProps } = props;
    const classNames = truncate ? &#x27;.truncate&#x27; : &#x27;&#x27;;
    return (
        &lt;div className={classNames} aria-expanded={!!expanded} {...otherProps}&gt;
            {children}
        &lt;/div&gt;
    );
}
</code></pre><h2>Props: Omit prop from a type</h2><p>Note: <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#omittk">Omit was added as a first class utility in TS 3.5</a>! ðŸŽ‰</p><p>Sometimes when intersecting types, we want to define our own version of a prop. For example, I want my component to have a <code>label</code>, but the type I am intersecting with also has a <code>label</code> prop. Here&#x27;s how to extract that out:</p><pre><code class="language-tsx">export interface Props {
    label: React.ReactNode; // this will conflict with the InputElement&#x27;s label
}

// this comes inbuilt with TS 3.5
type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;

// usage
export const Checkbox = (props: Props &amp; Omit&lt;React.HTMLProps&lt;HTMLInputElement&gt;, &#x27;label&#x27;&gt;) =&gt; {
    const { label } = props;
    return (
        &lt;div className=&quot;Checkbox&quot;&gt;
            &lt;label className=&quot;Checkbox-label&quot;&gt;
                &lt;input type=&quot;checkbox&quot; {...props} /&gt;
            &lt;/label&gt;
            &lt;span&gt;{label}&lt;/span&gt;
        &lt;/div&gt;
    );
};
</code></pre><p>When your component defines multiple props, chances of those conflicts increase. However you can explicitly state that all your fields should be removed from the underlying component using the <code>keyof</code> operator:</p><pre><code class="language-tsx">export interface Props {
    label: React.ReactNode; // conflicts with the InputElement&#x27;s label
    onChange: (text: string) =&gt; void; // conflicts with InputElement&#x27;s onChange
}

export const Textbox = (props: Props &amp; Omit&lt;React.HTMLProps&lt;HTMLInputElement&gt;, keyof Props&gt;) =&gt; {
    // implement Textbox component ...
};
</code></pre><p>As you can see from the Omit example above, you can write significant logic in your types as well. <a href="https://github.com/pelotom/type-zoo">type-zoo</a> is a nice toolkit of operators you may wish to check out (includes Omit), as well as <a href="https://github.com/piotrwitek/utility-types">utility-types</a> (especially for those migrating from Flow).</p><h2>Props: Extracting Prop Types of a Component</h2><p>Sometimes you want the prop types of a component, but it isn&#x27;t exported.</p><p>A simple solution is to use <code>React.ComponentProps</code>:</p><pre><code class="language-tsx">// a Modal component defined elsewhere
const defaultProps: React.ComponentProps&lt;typeof Modal&gt; = {
    title: &#x27;Hello World&#x27;,
    visible: true,
    onClick: jest.fn()
};
</code></pre><p>There are advanced edge cases if you want to extract the prop types of a component taking into account internal props, <code>propTypes</code>, and <code>defaultProps</code> - <a href="https://github.com/typescript-cheatsheets/react/issues/63">check our issue here for helper utilities that resolve these</a>.</p><h2>Props: Render Props</h2><blockquote><p>Advice: Where possible, you should try to use Hooks instead of Render Props. We include this merely for completeness.</p></blockquote><p>Sometimes you will want to write a function that can take a React element or a string or something else as a prop. The best Type to use for such a situation is <code>React.ReactNode</code> which fits anywhere a normal, well, React Node would fit:</p><pre><code class="language-tsx">export interface Props {
    label?: React.ReactNode;
    children: React.ReactNode;
}
export const Card = (props: Props) =&gt; {
    return (
        &lt;div&gt;
            {props.label &amp;&amp; &lt;div&gt;{props.label}&lt;/div&gt;}
            {props.children}
        &lt;/div&gt;
    );
};
</code></pre><p>If you are using a function-as-a-child render prop:</p><pre><code class="language-tsx">export interface Props {
    children: (foo: string) =&gt; React.ReactNode;
}
</code></pre><p><a href="https://github.com/typescript-cheatsheets/react-typescript-cheatsheet/issues/new/choose">Something to add? File an issue</a>.</p><h2>Handling Exceptions</h2><p>You can provide good information when bad things happen.</p><pre><code class="language-ts">class InvalidDateFormatError extends RangeError {}
class DateIsInFutureError extends RangeError {}

/**
 * // optional docblock
 * @throws {InvalidDateFormatError} The user entered date incorrectly
 * @throws {DateIsInFutureError} The user entered date in future
 *
 */
function parse(date: string) {
    if (!isValid(date)) throw new InvalidDateFormatError(&#x27;not a valid date format&#x27;);
    if (isInFuture(date)) throw new DateIsInFutureError(&#x27;date is in the future&#x27;);
    // ...
}

try {
    // call parse(date) somewhere
} catch (e) {
    if (e instanceof InvalidDateFormatError) {
        console.error(&#x27;invalid date format&#x27;, e);
    } else if (e instanceof DateIsInFutureError) {
        console.warn(&#x27;date is in future&#x27;, e);
    } else {
        throw e;
    }
}
</code></pre><p><a href="https://www.typescriptlang.org/play/?jsx=2#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wFgAoCtAGxQGc64BJAOwDcVrgATAERRhIAYtBACAolBxQ4SAB6CW3RghQsA5kknS4AbwC+VWgzj9BTOqyEBXGNaLboshUiUq1mxzIMUKmaywYwBAscMB0AGqcPAAU3AJIAFxwdDBQwBoAlHoUcHBEdlCh8YJwAPxwadZIcMmYnHRIANwUhpTk-oEwwaHhVrb2SHEJyanpWTnkeWghqXAlSAByEADucAC8cCxIa2ZDmS1TcDMsc2j2RCwwextbO6YJw4KZuXCvBfah51Ku1wkAdJoYAAVUD7OAAPnmCWWK0BSBBYJiB1avnIAHoAFSY3KYuDo9FwCBgbohTjzCBoABG1EpAGtcXAAAIwAAWOBWjF0rA4XD4CREUDEMC8+jgwNZNWsjRkvyQRG40NKGRmPww1AAnoyWezVly9hZ+oUtFJoGKJVKZbIrvKkIqFmFQv5jbjcei-AEgiE4GAUFBGk8kik0hl1NldK9gJg4DEAIThKJ8wOZF5HPJsjl3NY86L8wSC4VeGIAIhYEHgKDgvJ4SpqmFEAmLKKOUZjfRYNmNyeyGdWWYe5ksHYGDlNUBLDvCjsqkrgzsGTcOeQJcH+a9R7TSGsmy8JaE41B9foDC2ydFwO0lRFaxwEaFZMaQ4cj0ZiNQyqTUaCQEGjOb5ewFhIY7PmmxyzBA1BIP88rSCWGTVvaCRzg2MDFgANLIzZ5GKSDUI0YSvu+pwwF+P7RgaQ6doMXigXk0wQVB-wrH6LATshU4ZHOI5IBhWFLnAuH4TUEZgb2azNK8bT6EAA">View in TypeScript Playground</a></p><p>Simply throwing an exception is fine, however it would be nice to make TypeScript remind the consumer of your code to handle your exception. We can do that just by returning instead of throwing:</p><pre><code class="language-ts">function parse(date: string): Date | InvalidDateFormatError | DateIsInFutureError {
    if (!isValid(date)) return new InvalidDateFormatError(&#x27;not a valid date format&#x27;);
    if (isInFuture(date)) return new DateIsInFutureError(&#x27;date is in the future&#x27;);
    // ...
}

// now consumer *has* to handle the errors
let result = parse(&#x27;mydate&#x27;);
if (result instanceof InvalidDateFormatError) {
    console.error(&#x27;invalid date format&#x27;, result.message);
} else if (result instanceof DateIsInFutureError) {
    console.warn(&#x27;date is in future&#x27;, result.message);
} else {
    /// use result safely
}

// alternately you can just handle all errors
if (result instanceof Error) {
    console.error(&#x27;error&#x27;, result);
} else {
    /// use result safely
}
</code></pre><p>You can also describe exceptions with special-purpose data types (don&#x27;t say monads...) like the <code>Try</code>, <code>Option</code> (or <code>Maybe</code>), and <code>Either</code> data types:</p><pre><code class="language-ts">interface Option&lt;T&gt; {
    flatMap&lt;U&gt;(f: (value: T) =&gt; None): None;
    flatMap&lt;U&gt;(f: (value: T) =&gt; Option&lt;U&gt;): FormikOption&lt;U&gt;;
    getOrElse(value: T): T;
}
class Some&lt;T&gt; implements Option&lt;T&gt; {
    constructor(private value: T) {}
    flatMap&lt;U&gt;(f: (value: T) =&gt; None): None;
    flatMap&lt;U&gt;(f: (value: T) =&gt; Some&lt;U&gt;): Some&lt;U&gt;;
    flatMap&lt;U&gt;(f: (value: T) =&gt; Option&lt;U&gt;): Option&lt;U&gt; {
        return f(this.value);
    }
    getOrElse(): T {
        return this.value;
    }
}
class None implements Option&lt;never&gt; {
    flatMap&lt;U&gt;(): None {
        return this;
    }
    getOrElse&lt;U&gt;(value: U): U {
        return value;
    }
}

// now you can use it like:
let result = Option(6) // Some&lt;number&gt;
    .flatMap((n) =&gt; Option(n * 3)) // Some&lt;number&gt;
    .flatMap((n = new None())) // None
    .getOrElse(7);

// or:
let result = ask() // Option&lt;string&gt;
    .flatMap(parse) // Option&lt;Date&gt;
    .flatMap((d) =&gt; new Some(d.toISOString())) // Option&lt;string&gt;
    .getOrElse(&#x27;error parsing string&#x27;);
</code></pre></div></div></article><nav id="page-nav" class="page-nav"><div id="page-nav-inside" class="page-nav-inside sticky"><h2 class="page-nav-title">Jump to Section</h2><div id="page-nav-link-container"></div></div></nav></div></div></main><footer id="colophon" class="site-footer outer"><div class="inner"><div class="site-footer-inside"><p class="site-info"><span class="copyright">Â© Stackbit. All rights reserved. This Jamstack site was created with <a href="https://www.stackbit.com/?utm_source=deployed-footer" target="_blank" rel="noopener">Stackbit</a>. Create yours <a href="https://app.stackbit.com/create?theme=libris&amp;utm_source=deployed-footer" target="_blank" rel="noopener">now</a></span></p><div class="social-links"><a href="https://twitter.com/" target="_blank" rel="noopener " class="button button-icon"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.954 4.569a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.061a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.937 4.937 0 004.604 3.417 9.868 9.868 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 002.46-2.548l-.047-.02z"></path></svg><span class="screen-reader-text">Twitter</span></a><a href="https://www.linkedin.com/" target="_blank" rel="noopener " class="button button-icon"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg><span class="screen-reader-text">LinkedIn</span></a><a href="https://github.com/" target="_blank" rel="noopener " class="button button-icon"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="screen-reader-text">GitHub</span></a></div></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script src="/js/plugins.js"></script><script src="/js/main.js"></script><script src="/js/page-load.js"></script><script src="/js/page-unload.js"></script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/react/react-patterns-by-usecase/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d010db2edb4cbc7d0a2b.js"],"app":["/app-4a89a8a97bdba4a58b44.js"],"component---src-pages-404-js":["/component---src-pages-404-js-bd8c312baa06e4e7ed96.js"],"component---src-templates-advanced-js":["/component---src-templates-advanced-js-6f213d193b5ecf8f0dd1.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js-10599357e1754c9e8612.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-937e318e7b13f2e53450.js"],"component---src-templates-page-js":["/component---src-templates-page-js-91a4e29b5c2d7a7723d1.js"],"component---src-templates-post-js":["/component---src-templates-post-js-0736916da93b67f9a416.js"]};/*]]>*/</script><script src="/polyfill-d010db2edb4cbc7d0a2b.js" nomodule=""></script><script src="/component---src-templates-docs-js-937e318e7b13f2e53450.js" async=""></script><script src="/7e83cccf5627985ffa1ad445adbbed4378ad9bf2-da9213b0ce77da97eacb.js" async=""></script><script src="/29107295-e9457ed2135dcbbf6ce8.js" async=""></script><script src="/styles-7d4153d260c0197f0043.js" async=""></script><script src="/app-4a89a8a97bdba4a58b44.js" async=""></script><script src="/framework-e132d18971612bcf60f3.js" async=""></script><script src="/webpack-runtime-ff02ab28bbe19ce1254f.js" async=""></script></body></html>